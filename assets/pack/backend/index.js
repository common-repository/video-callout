(()=>{var e={596:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(87),o=a(573);const n=(0,l.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(o.Path,{d:"M7 11.5h10V13H7z"}))},400:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l=a(87),o=a(556),n=a.n(o),r=a(427);const i=e=>{const[t,a]=(0,l.useState)(!1),{icon:o}=e;return(0,l.createElement)("div",{className:"wevc components-panel__body "+(t?"is-opened":"")},(0,l.createElement)("h2",{className:"components-panel__body-title"},(0,l.createElement)("button",{onClick:function(){a(!t)},className:"components-button components-panel__body-toggle"},(0,l.createElement)("span",{className:"wevc-icon-span",style:{fill:`${o&&o.color||""}`}},o&&(0,l.createElement)(r.Dashicon,{icon:o,style:{marginRight:"5px"}})),(0,l.createElement)("span",{className:"wevc-title-container"},(0,l.createElement)("div",{className:"wevc-title"},e.title)),t&&(0,l.createElement)("span",{"aria-hidden":"true"},(0,l.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"components-panel__arrow","aria-hidden":"true",focusable:"false"},(0,l.createElement)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}))),!t&&(0,l.createElement)("span",{"aria-hidden":"true"},(0,l.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"components-panel__arrow","aria-hidden":"true",focusable:"false"},(0,l.createElement)("path",{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}))))),t&&e.children)},u=i;i.propTypes={title:n().string.isRequired,children:n().oneOfType([n().node,n().arrayOf(n().node)]).isRequired,icon:n().object},i.defaultProps={icon:null}},61:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var l=a(87),o=a(723),n=a(582),r=a(143),i=a(609),u=a(427),s=a(580),d=a(596),c=a(400);function p(e){const t=(0,r.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[a,p]=(0,n.useEntityProp)("postType",t,"meta"),_="width",f="height",m="pin",v="wevideopopup_advanced",y="wevideopopup_class",w=e=>{try{return JSON.parse(a[v])[e]||""}catch{return""}},h=function(e,t){let l;if(a[v])try{l=JSON.parse(a[v])}catch{return l={},null}else l={};l[e]=t,b(v,JSON.stringify(l))},g=e=>a[e]||"",b=(e,t)=>p({...a,[e]:t}),[E,S]=(0,i.useState)(""!==w(_)?w(_):e.default_width),[C,A]=(0,i.useState)(""!==w(f)?w(f):e.default_height),[T,x]=(0,i.useState)(""!==w(m)?w(m):e.default_position),[W,D]=(0,i.useState)(""!==g(y)?g(y):e.default_class),N=e=>{D(e),b(y,e)};return(0,l.createElement)(c.A,{title:(0,o.__)("Configure","video-callout"),icon:"clock"},(0,l.createElement)(u.TextControl,{label:(0,o.__)("Width","video-callout"),value:E,type:"number",onChange:e=>{S(e),h(_,parseInt(e))},help:(0,o.__)("Display width of video in pixels","video-callout"),name:"wevideopopup_width"}),(0,l.createElement)(u.TextControl,{label:(0,o.__)("Height","video-callout"),value:C,type:"number",onChange:e=>{A(e),h(f,parseInt(e))},help:(0,o.__)("Display height of video in pixels","video-callout"),name:"wevideopopup_height"}),(0,l.createElement)("div",{className:"wevp-pin"},(0,l.createElement)(s.A,{label:(0,o.__)("Position","video-callout"),help:(0,o.__)("Current position")+": "+w("pin"),selected:T,name:"wevideopopup_pin",options:[{label:"top-left",value:"top-left"},{label:"top-centre",value:"top-centre"},{label:"top-right",value:"top-right"},{label:"middle-left",value:"middle-left"},{label:"middle-centre",value:"middle-centre"},{label:"middle-right",value:"middle-right"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-centre",value:"bottom-centre"},{label:"bottom-right",value:"bottom-right"}],onChange:e=>{x(e),h(m,e)}})),(0,l.createElement)(u.TextControl,{name:"wevideopopup_class",label:(0,o.__)("CSS class","video-callout"),value:W,onChange:N,help:(0,o.__)("Optional css classes to apply to callout.","video-callout")}),!(e.default_width==E&&e.default_height==C&&e.default_position==T&&e.default_class==W)&&(0,l.createElement)(u.Button,{isSmall:!0,variant:"primary",icon:d.A,onClick:()=>{console.info("Revert"),S(e.default_width),A(e.default_height),x(e.default_position),N(e.default_class),function(){let t;if(a[v])try{t=JSON.parse(a[v])}catch{return t={},null}else t={};t[_]=e.default_width,t[f]=e.default_height,t[m]=e.default_position,b(v,JSON.stringify(t))}()}},(0,o.__)("Revert configuration to defaults","video-callout")))}},647:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(87),o=a(723),n=a(582),r=a(143),i=(a(609),a(427)),u=a(50),s=a(61);function d(){const e=(0,r.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[t,a]=(0,n.useEntityProp)("postType",e,"meta"),d="wevideopopup_video_id",c="wevideopopup_autoplay",p="wevideopopup_mute",_="wevideopopup_class",f=window.WEVC_DEFAULTS,m=e=>{try{return JSON.parse(t.wevideopopup_advanced)[e]||""}catch{return""}},v=e=>t[e]||"",y=(e,l)=>a({...t,[e]:l}),w=e=>{let t;return(t=/\byoutu(\.be|be\.com)\b.*(\/|\?v=)(?<id>[a-zA-Z0-9\-_]{11})/.exec(e))?{id:t.groups.id,type:"youtube"}:(t=/\bdrive\.google\.com\b.*(\/)(?<id>[a-zA-Z0-9\-_]{33})(\/)/.exec(e))?{id:t.groups.id,type:"googleDrive"}:(t=/\bvimeo\.com\b.*\/(?<id>[0-9]+)([^0-9].*)?$/.exec(e))?{id:t.groups.id,type:"vimeo"}:null},h=e=>"1"===e||!0===e||"true"===e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.Card,null,(0,l.createElement)(i.CardBody,null,(0,l.createElement)("div",{className:"we-vc-meta_header"},(0,l.createElement)("p",null,(0,o.__)("Defaults and general styling can be configured from the","video-callout")," ",(0,l.createElement)("a",{href:f.settings_url?f.settings_url:""},(0,o.__)("settings page","video-callout")),".")),(0,l.createElement)(i.BaseControl,{id:"wevideopopup_video_id",label:(0,o.__)("Video address","video-callout"),help:(0,o.__)("YouTube, Google Drive, or Vimeo URL.","video-callout")},(0,l.createElement)("div",{className:"wevideopopup_video_idInput"},(0,l.createElement)("input",{id:"wevideopopup_video_id",name:"wevideopopup_video_id",type:"url",onChange:e=>y(d,e.target.value),value:v(d)}),(0,l.createElement)("button",{disabled:!v(d),title:"Clear",onClick:()=>y(d,"")},(0,l.createElement)("span",{className:"dashicons dashicons-trash"})))))),""!==v(d)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.A,{default_autoplay:WEVC_DEFAULTS.globalSettings.autoplay,default_delay:WEVC_DEFAULTS.globalSettings.delay,default_frequency_period:WEVC_DEFAULTS.globalSettings.frequency_period,default_frequency_range:WEVC_DEFAULTS.globalSettings.frequency_range,default_mute:WEVC_DEFAULTS.globalSettings.mute}),(0,l.createElement)(s.A,{default_width:WEVC_DEFAULTS.styles.frame.width,default_height:WEVC_DEFAULTS.styles.frame.height,default_position:WEVC_DEFAULTS.styles.window.position,default_class:WEVC_DEFAULTS.styles.window.class}),(0,l.createElement)("a",{className:"we-vp-preview-panel-button","data-wevc-preview":!0,onClick:function(){if(window.WEVC_VideoCallout){let e=parseInt(m("width"));!e>0&&(e=window.WEVC_DEFAULTS.styles.frame.width);let t=parseInt(m("height"));!t>0&&(t=window.WEVC_DEFAULTS.styles.frame.height);let a=v(d);"vimeo"==w(a).type&&(a=a.replace("#","&"));const l=new URLSearchParams(a);let o=f;o.autoplay=""!==v(c)?!!h(v(c)):WEVC_DEFAULTS.globalSettings.mute,o.mute=""!==v(p)?!!h(v(p)):WEVC_DEFAULTS.globalSettings.mute,o.frequency_period=0,o.frequency_range=0,o.frequency=0,o.delay=0,o.starttime=l.get("t")?l.get("t"):0,o.extra_classes=""!==v(_)?v(_):WEVC_DEFAULTS.styles.window.class,o.styles.window.position=""!==m("pin")?m("pin"):WEVC_DEFAULTS.styles.window.position,e>0&&(o.styles.frame.width=e),t>0&&(o.styles.frame.height=t);let n=w(v(d));n&&(o.type=n.type,o.id=n.id),window.WEVC_VideoCallout.GetAdminPreview(o)}}},(0,l.createElement)(i.Dashicon,{icon:"format-video"})," ",(0,o.__)("Preview","video-callout"))))}},50:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(87),o=a(723),n=a(582),r=a(143),i=a(609),u=a(427),s=a(596),d=a(400);function c(e){const t=(0,r.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[a,c]=(0,n.useEntityProp)("postType",t,"meta"),p="wevideopopup_autoplay",_="wevideopopup_delay",f="wevideopopup_mute",m="wevideopopup_frequency_period",v="wevideopopup_frequency_range",y=e=>a[e]||"",w=(e,t)=>c({...a,[e]:t}),h=e=>"1"===e||!0===e||"true"===e,[g,b]=(0,i.useState)(""!==y(p)?!!h(y(p)):e.default_autoplay),[E,S]=(0,i.useState)(""!==y(_)?y(_):e.default_delay),[C,A]=(0,i.useState)(""!==y(m)?y(m):e.default_frequency_period),[T,x]=(0,i.useState)(""!==y(v)?y(v):e.default_frequency_range),[W,D]=(0,i.useState)(""!==y(f)?!!h(y(f)):e.default_mute),N=e=>{A(e),w(m,e),"0"===e&&q(0)},q=e=>{x(e),w(v,e)},V=t=>{let a="";if(0==C)a=(0,o.__)("Always show","video-callout");else{let a=C==e.default_frequency_period&&0==C||T==e.default_frequency_range&&C==e.default_frequency_period,l=parseInt(T);if(T>0)if(a)switch(parseInt(t)){case 1:return(0,o.sprintf)((0,o._n)("Wait for %d second before redisplay (default)","Wait for %d seconds before redisplay (default)",l,"video-callout"),l);case 2:return(0,o.sprintf)((0,o._n)("Wait for %d minute before redisplay (default)","Wait for %d minutes before redisplay (default)",l,"video-callout"),l);case 3:return(0,o.sprintf)((0,o._n)("Wait for %d hour before redisplay (default)","Wait for %d hours before redisplay (default)",l,"video-callout"),l);case 4:return(0,o.sprintf)((0,o._n)("Wait for %d day before redisplay (default)","Wait for %d days before redisplay (default)",l,"video-callout"),l)}else switch(parseInt(t)){case 1:return(0,o.sprintf)((0,o._n)("Wait for %d second before redisplay","Wait for %d seconds before redisplay",l,"video-callout"),l);case 2:return(0,o.sprintf)((0,o._n)("Wait for %d minute before redisplay","Wait for %d minutes before redisplay",l,"video-callout"),l);case 3:return(0,o.sprintf)((0,o._n)("Wait for %d hour before redisplay","Wait for %d hours before redisplay",l,"video-callout"),l);case 4:return(0,o.sprintf)((0,o._n)("Wait for %d day before redisplay","Wait for %d days before redisplay",l,"video-callout"),l)}else switch(parseInt(t)){case 1:return(0,o.__)("How many seconds before redisplay","video-callout");case 2:return(0,o.__)("How many minutes before redisplay","video-callout");case 3:return(0,o.__)("How many hours before redisplay","video-callout");case 4:return(0,o.__)("How many days before redisplay","video-callout")}}return a},F=e=>e>1?[{label:(0,o.__)("Always show","video-callout"),value:0},{label:(0,o.__)("Seconds","video-callout"),value:1},{label:(0,o.__)("Minutes","video-callout"),value:2},{label:(0,o.__)("Hours","video-callout"),value:3},{label:(0,o.__)("Days","video-callout"),value:4}]:[{label:(0,o.__)("Always show","video-callout"),value:0},{label:(0,o.__)("Second","video-callout"),value:1},{label:(0,o.__)("Minute","video-callout"),value:2},{label:(0,o.__)("Hour","video-callout"),value:3},{label:(0,o.__)("Day","video-callout"),value:4}];return(0,l.createElement)(d.A,{icon:"admin-settings",title:(0,o.__)("Playback","video-callout")},(0,l.createElement)(u.ToggleControl,{name:"wevideopopup_autoplay",label:(0,o.__)("Autoplay","video-callout"),help:(g?(0,o.__)("Will attempt to autoplay on load. Video must be muted for autoplay to work in some browsers.","video-callout")+" Google drive videos cannot be autoplayed.":(0,o.__)("Autoplay off","video-callout"))+(g===e.default_autoplay?" ("+(0,o.__)("default","video-callout")+")":""),checked:g,onChange:e=>{b(e),w(p,e?"1":"0")}}),(0,l.createElement)(u.TextControl,{name:"wevideopopup_delay",label:(0,o.__)("Delay","video-callout"),value:E,type:"number",onChange:e=>{S(e),w(_,e)},className:""==y(_)||e.default_delay===E?"wevc-default":"wevc-non-default",help:(0,o.__)("Number of milliseconds until video appears, 1000 = 1 second","video-callout")+(e.default_delay===E?" ("+(0,o.__)("default","video-callout")+")":"")}),(0,l.createElement)(l.Fragment,null,(!C||0==C||C<1)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.SelectControl,{label:(0,o.__)("Frequency","video-callout"),onChange:N,value:C,options:F(T),className:""==C||e.default_frequency_period==C?"wevc-default":"wevc-non-default",help:V(C)})),C>0&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.SelectControl,{label:(0,o.__)("Frequency","video-callout"),onChange:N,value:C,options:F(T),className:""==C||e.default_frequency_period==C?"wevc-default":"wevc-non-default"}),(0,l.createElement)(u.TextControl,{type:"number",value:Math.min(Math.max(0,parseInt(T)),2147483647)||0,onChange:q,help:V(C),className:""==T||e.default_frequency_range==T?"wevc-default":"wevc-non-default"}))),(0,l.createElement)(u.ToggleControl,{label:(0,o.__)("Mute","video-callout"),help:(W?"Audio off":"Audio on")+(W===e.default_mute?" ("+(0,o.__)("default","video-callout")+")":""),name:"wevideopopup_mute",checked:W,onChange:e=>{D(e),w(f,e?"1":"0")}}),!(e.default_autoplay==g&&e.default_delay==E&&(C==e.default_frequency_period&&0==C||T==e.default_frequency_range&&C==e.default_frequency_period)&&e.default_mute==W)&&(0,l.createElement)(u.Button,{isSmall:!0,variant:"primary",icon:s.A,onClick:()=>{b(e.default_autoplay),D(e.default_mute),S(e.default_delay),A(e.default_frequency_period),x(e.default_frequency_range),c({...a,[p]:e.default_autoplay?"1":"0",[f]:e.default_mute?"1":"0",[_]:e.default_delay,[m]:String(e.default_frequency_period),[v]:e.default_frequency_range})}},(0,o.__)("Revert playback to defaults","video-callout")))}},580:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(168),o=a(87),n=a(485),r=a.n(n),i=a(491),u=a(427);const s=function e(t){const{label:a,className:n,selected:s,help:d,onChange:c,hideLabelFromVision:p,options:_=[],...f}=t,m=`inspector-radio-control-${(0,i.useInstanceId)(e)}`,v=e=>c(e.target.value);return null!=_&&_.length?(0,o.createElement)(u.BaseControl,{__nextHasNoMarginBottom:!0,label:a,id:m,hideLabelFromVision:p,help:d,className:r()(n,"components-radio-control")},_.map(((e,t)=>(0,o.createElement)("div",{key:`${m}-${t}`,className:"components-radio-control__option"},(0,o.createElement)("input",(0,l.A)({id:`${m}-${t}`,className:"components-radio-control__input",type:"radio",name:m,value:e.value,onChange:v,checked:e.value===s,"aria-describedby":d?`${m}__help`:void 0},f)),(0,o.createElement)("label",{htmlFor:`${m}-${t}`},e.label))))):null}},485:(e,t)=>{var a;!function(){"use strict";var l={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var r=o.apply(null,a);r&&e.push(r)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var i in a)l.call(a,i)&&a[i]&&e.push(i)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},694:(e,t,a)=>{"use strict";var l=a(925);function o(){}function n(){}n.resetWarningCache=o,e.exports=function(){function e(e,t,a,o,n,r){if(r!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:o};return a.PropTypes=a,a}},556:(e,t,a)=>{e.exports=a(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},609:e=>{"use strict";e.exports=window.React},427:e=>{"use strict";e.exports=window.wp.components},491:e=>{"use strict";e.exports=window.wp.compose},582:e=>{"use strict";e.exports=window.wp.coreData},143:e=>{"use strict";e.exports=window.wp.data},309:e=>{"use strict";e.exports=window.wp.editPost},87:e=>{"use strict";e.exports=window.wp.element},723:e=>{"use strict";e.exports=window.wp.i18n},279:e=>{"use strict";e.exports=window.wp.plugins},573:e=>{"use strict";e.exports=window.wp.primitives},168:(e,t,a)=>{"use strict";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},l.apply(this,arguments)}a.d(t,{A:()=>l})}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=a(87),t=a(723),l=a(279),o=a(309),n=a(427),r=a(647);const i=()=>(0,e.createElement)(n.Dashicon,{icon:"format-video"});!function(){const a=(0,t.__)("Video Callout","video-callout");(0,l.registerPlugin)("wevp-videocallout",{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.PluginSidebarMoreMenuItem,{target:"wevp-sidebar",icon:(0,e.createElement)(i,null)},a),(0,e.createElement)(o.PluginSidebar,{name:"wevp-sidebar",title:a},(0,e.createElement)(r.A,null))),icon:(0,e.createElement)(i,null)})}()})()})();
//# sourceMappingURL=index.js.map